blueprint:
  name: Zigbee M1 Switch Button Actions
  description: Automate actions based on Smart Zigbee M1 Switch button presses.
  domain: automation
  input:
    zigbee_switch:
      name: Zigbee M1 Switch
      description: The Zigbee switch to use
      selector:
        entity:
          integration: zha
          domain: sensor
    button_1_short:
      name: Button 1 - Single Press
      description: Action for Button 1 single press
      selector:
        action: {}
    button_1_double:
      name: Button 1 - Double Press
      description: Action for Button 1 double press
      selector:
        action: {}
    button_1_long:
      name: Button 1 - Long Press
      description: Action for Button 1 long press
      selector:
        action: {}
    button_2_short:
      name: Button 2 - Single Press
      description: Action for Button 2 single press
      selector:
        action: {}
    button_2_double:
      name: Button 2 - Double Press
      description: Action for Button 2 double press
      selector:
        action: {}
    button_2_long:
      name: Button 2 - Long Press
      description: Action for Button 2 long press
      selector:
        action: {}
    button_3_short:
      name: Button 3 - Single Press
      description: Action for Button 3 single press
      selector:
        action: {}
    button_3_double:
      name: Button 3 - Double Press
      description: Action for Button 3 double press
      selector:
        action: {}
    button_3_long:
      name: Button 3 - Long Press
      description: Action for Button 3 long press
      selector:
        action: {}
    button_4_short:
      name: Button 4 - Single Press
      description: Action for Button 4 single press
      selector:
        action: {}
    button_4_double:
      name: Button 4 - Double Press
      description: Action for Button 4 double press
      selector:
        action: {}
    button_4_long:
      name: Button 4 - Long Press
      description: Action for Button 4 long press
      selector:
        action: {}
trigger:
  - platform: state
    entity_id: !input zigbee_switch
    attribute: action
action:
  - choose:
      - conditions: "{{ trigger.to_state.attributes.action == '1_single' }}"
        sequence: !input button_1_short
      - conditions: "{{ trigger.to_state.attributes.action == '1_double' }}"
        sequence: !input button_1_double
      - conditions: "{{ trigger.to_state.attributes.action == '1_long' }}"
        sequence: !input button_1_long
      - conditions: "{{ trigger.to_state.attributes.action == '2_single' }}"
        sequence: !input button_2_short
      - conditions: "{{ trigger.to_state.attributes.action == '2_double' }}"
        sequence: !input button_2_double
      - conditions: "{{ trigger.to_state.attributes.action == '2_long' }}"
        sequence: !input button_2_long
      - conditions: "{{ trigger.to_state.attributes.action == '3_single' }}"
        sequence: !input button_3_short
      - conditions: "{{ trigger.to_state.attributes.action == '3_double' }}"
        sequence: !input button_3_double
      - conditions: "{{ trigger.to_state.attributes.action == '3_long' }}"
        sequence: !input button_3_long
      - conditions: "{{ trigger.to_state.attributes.action == '4_single' }}"
        sequence: !input button_4_short
      - conditions: "{{ trigger.to_state.attributes.action == '4_double' }}"
        sequence: !input button_4_double
      - conditions: "{{ trigger.to_state.attributes.action == '4_long' }}"
        sequence: !input button_4_long
